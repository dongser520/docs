(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{587:function(t,s,a){"use strict";a.r(s);var n=a(24),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-如何打开github-com网站"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-如何打开github-com网站"}},[t._v("#")]),t._v(" 1. 如何打开github.com网站")]),t._v(" "),s("p",[t._v("具体操作视频；"),s("a",{attrs:{href:"https://www.bilibili.com/video/BV14HHhe1Er4/?vd_source=9a6ee0d7e6c1657e4a7381c1f8f18f4b",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击这里"),s("OutboundLink")],1),t._v(" "),s("br")]),t._v(" "),s("blockquote",[s("p",[t._v("如果同学们在学习的过程中，发现电脑打不开github.com网站，可以尝试以下方法："),s("br"),t._v("\n以window 10 系统为例 "),s("br")]),t._v(" "),s("blockquote",[s("h3",{attrs:{id:"_1-尝试修改hosts文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-尝试修改hosts文件"}},[t._v("#")]),t._v(" 1. 尝试修改hosts文件")]),t._v(" "),s("blockquote",[s("p",[t._v("① "),s("a",{attrs:{href:"https://ipaddress.com/website/github.com",target:"_blank"}},[t._v("github网址查询：https://ipaddress.com/website/github.com ")]),t._v(" 获取到ip地址 "),s("br"),s("br"),t._v("\n② "),s("a",{attrs:{href:"https://ipaddress.com/website/github.global.ssl.fastly.net",target:"_blank"}},[t._v("github域名查询：https://ipaddress.com/website/github.global.ssl.fastly.net ")]),t._v(" 获取到ip地址 "),s("br"),s("br"),t._v("\n② "),s("a",{attrs:{href:"https://ipaddress.com/website/github.io",target:"_blank"}},[t._v("github.io域名查询：https://ipaddress.com/website/github.io ")]),t._v(" 获取到ip地址 "),s("br"),s("br"),t._v("\n④ 打开hosts文件（C:\\Windows\\System32\\drivers\\etc\\hosts）、末尾放入IP 地址：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("# GitHub Start\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("140.82")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".114")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),t._v("      github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("151.101")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".194")]),t._v("     github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fastly"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("net\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("151.101")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".65")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".194")]),t._v("    github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fastly"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("net\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("151.101")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".129")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".194")]),t._v("   github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fastly"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("net\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("151.101")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".193")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".194")]),t._v("   github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("global"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fastly"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("net\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("185.199")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".108")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".153")]),t._v("   github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("185.199")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".109")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".153")]),t._v("   github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("185.199")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".110")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".153")]),t._v("   github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("185.199")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".111")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v(".153")]),t._v("   github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io\n# GitHub End\n")])])]),s("p",[t._v("保存退出"),s("br"),s("br"),t._v("\n⑤ 在 cmd 命令行中执行下面语句 来刷新 DNS "),s("br")]),s("p",[s("img",{staticStyle:{width:"50%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/01.png"}})]),s("br"),t._v(" "),s("p",[s("img",{staticStyle:{width:"50%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/02.png"}})]),s("br"),t._v("\n⑥ 确定后打开命令行，输入以下命令："),s("br"),s("p"),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("ipconfig"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("flushdns\n")])])]),s("p",[t._v("⑦ 重启浏览器之后就能进入Github 网址")])])])]),t._v(" "),s("blockquote",[s("blockquote",[s("h3",{attrs:{id:"_2-如果使用手机热点可以打开github-宽带打不开则尝试修改dns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-如果使用手机热点可以打开github-宽带打不开则尝试修改dns"}},[t._v("#")]),t._v(" 2. 如果使用手机热点可以打开github，宽带打不开则尝试修改DNS")]),t._v(" "),s("p",[s("code",[t._v("以win10为例")]),t._v("：")]),t._v(" "),s("h3",{attrs:{id:"_1-开始-控制面板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-开始-控制面板"}},[t._v("#")]),t._v(" 1. 开始 -> "),s("code",[t._v("控制面板")])]),t._v(" "),s("p",[s("img",{staticStyle:{width:"50%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/03.png"}})]),t._v(" "),s("h3",{attrs:{id:"_2-网络和internet"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-网络和internet"}},[t._v("#")]),t._v(" 2. 网络和Internet")]),t._v(" "),s("p",[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/04.png"}})]),t._v(" "),s("p",[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/05.png"}})]),t._v(" "),s("p",[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/06.png"}})]),t._v(" "),s("p",[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/07.png"}})]),t._v(" "),s("p",[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/08.png"}})]),t._v("\n点击 “确定” 保存设置，关闭所有窗口。\n"),s("br"),s("br"),t._v(" "),s("h3",{attrs:{id:"_3-验证dns是否生效"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-验证dns是否生效"}},[t._v("#")]),t._v(" 3. 验证DNS是否生效"),s("br")]),t._v(" "),s("h3",{attrs:{id:"_1-清除dns缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-清除dns缓存"}},[t._v("#")]),t._v(" ① 清除DNS缓存")]),t._v(" "),s("blockquote",[s("p",[s("img",{staticStyle:{width:"50%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/01.png"}})]),s("br"),t._v(" "),s("p",[s("img",{staticStyle:{width:"50%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/02.png"}})]),s("br"),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("输入命令： ipconfig "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("flushdns\n")])])]),t._v(" "),s("p",[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/09.png"}})])]),t._v(" "),s("h3",{attrs:{id:"_2-测试dns解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-测试dns解析"}},[t._v("#")]),t._v(" ② 测试DNS解析")]),t._v(" "),s("blockquote",[s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("输入命令： nslookup github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com\n")])])]),t._v(" "),s("p",[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/10.png"}})])]),t._v(" "),s("p",[t._v("然后就可以正常访问github网站了。")]),t._v(" "),s("h3",{attrs:{id:"_3-如果修改dns后网络异常-则恢复自动获取dns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-如果修改dns后网络异常-则恢复自动获取dns"}},[t._v("#")]),t._v(" ③ 如果修改DNS后网络异常，则恢复自动获取DNS")]),t._v(" "),s("blockquote",[s("p",[s("img",{staticStyle:{width:"100%"},attrs:{src:"https://docs-51yrc-com.oss-cn-hangzhou.aliyuncs.com/docs-imgs/11.png"}})])]),t._v(" "),s("h3",{attrs:{id:"_4-常见问题说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-常见问题说明"}},[t._v("#")]),t._v(" 4.常见问题说明")]),t._v(" "),s("ol",[s("li",[t._v("修改后仍无法访问GitHub？")])]),t._v(" "),s("blockquote",[s("p",[t._v("尝试更换其他DNS服务器（如腾讯DNS 119.29.29.29）。"),s("br"),t._v("\n结合 修改Hosts文件 解决域名解析问题。\n"),s("br")])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("提示“无权限修改网络设置”？")])]),t._v(" "),s("blockquote",[s("p",[t._v("确保当前用户账户具有管理员权限。"),s("br"),t._v("\n右键点击“命令提示符”或“设置”时选择 “以管理员身份运行”。\n"),s("br")])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("DNS设置不生效？")])]),t._v(" "),s("blockquote",[s("p",[t._v("重启电脑或路由器。"),s("br"),t._v("\n检查是否在正确的网络适配器（Wi-Fi/以太网）上修改了DNS。")])])])]),t._v(" "),s("h2",{attrs:{id:"_2-如何运行【第二学期第三季】课堂代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-如何运行【第二学期第三季】课堂代码"}},[t._v("#")]),t._v(" 2. 如何运行【第二学期第三季】课堂代码")]),t._v(" "),s("p",[t._v("具体操作视频；"),s("a",{attrs:{href:"https://www.bilibili.com/video/BV1yM2oYoEZE/?vd_source=9a6ee0d7e6c1657e4a7381c1f8f18f4b",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击这里"),s("OutboundLink")],1),t._v(" "),s("br")]),t._v(" "),s("h2",{attrs:{id:"_3-eggjs如何重置数据表-保证id每次从1开始计算"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-eggjs如何重置数据表-保证id每次从1开始计算"}},[t._v("#")]),t._v(" 3. Eggjs如何重置数据表，保证ID每次从1开始计算")]),t._v(" "),s("p",[t._v("例如：从本地"),s("code",[t._v("shopRule.json")]),t._v("更新权限列表到数据库，每次执行重置"),s("code",[t._v("rule")]),t._v("表")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从本地data/shopRule.json更新权限列表到数据库")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("localcreate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 先清空 rule 表 或者重置表 再插入")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// await app.model.Rule.destroy({")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     where:{},")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// });")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 禁用外键约束（避免因外键导致 TRUNCATE 失败）")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SET FOREIGN_KEY_CHECKS = 0'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 清空表并重置自增 ID")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Rule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("destroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("truncate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("force")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RoleRule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("destroy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("truncate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("force")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 恢复外键约束")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SET FOREIGN_KEY_CHECKS = 1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// return;")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// let rule = await app.model.Rule.findAll();")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ctx.body = rule; return;")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("existsSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./data/shopRule.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./data/shopRule.json'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("encoding")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf-8'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 把data里面的id全部去掉")]),t._v("\n                data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 批量插入")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Rule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bulkCreate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("toast")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'权限列表更新成功'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'success'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("redirect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/shop/admin/rule'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);