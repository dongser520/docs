---
navbar: true
sidebar: auto
title: 章节6.即时通讯聊天页开发
---

## 一、顶部导航栏开发

1. 新建即时通讯聊天页 `pages/chat/chat.nvue`
在 `pages.json`中
```js
   {
        "path" : "pages/chat/chat",
        "style" : 
        {
            "navigationBarTitleText" : "聊天详情",
            "navigationStyle": "custom"
        }
    }
```

2. 进入聊天即时通讯聊天页 `pages/xiaoxi/xiaoxi.nvue`
```js
    ...
    methods: {
        ...
        openChat(e) {
            console.log('进入聊天详情页', e);
            uni.navigateTo({
                url: '/pages/chat/chat',
            });
        },
        ...
    }
    ...
```

3. `在页面 pages/chat/chat.nvue`
```vue
<template>
	<view>
		<!-- 导航栏 -->
		<chat-navbar title="聊天" :fixed="true"
		:showPlus="false" :showUser="false"
		:showBack="true" navbarClass="bg-light">
		    <chat-navbar-icon-button slot="right"
			@click="openMore" >
		    	<text class="iconfont font-md">&#xe626;</text>
		    </chat-navbar-icon-button>
		</chat-navbar>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				
			}
		},
		methods: {
			openMore(){
				console.log('点击打开更多');
			}
		}
	}
</script>

<style>
    /* #ifdef H5 */
	@import '/common/css/common.nvue.vue.css';
	/* #endif */
</style>

```

4. 优化顶部导航栏组件 `/components/chat-navbar/chat-navbar.vue`
```vue
<template>
	<view>
		<!-- 导航栏 -->
		<view :class="[fixed ? 'fixed-top' : '',navbarClass]">
			<!-- 状态栏 -->
			...
			<!-- 导航 -->
			<!-- #ifdef APP || H5 -->
			<view class="flex justify-between align-center"
			style="height: 90rpx;">
				<!-- 左边 -->
				...
				<!-- 右边 -->
				<view class="flex align-center">
					...
					<slot name="right"></slot>
				</view>
			</view>
			<!-- #endif -->
			<!-- #ifdef MP -->
			...
			<!-- #endif -->
			
		</view>
		<!-- 占位符：占用 状态栏 + 导航栏的高度 -->
		...
		
		<!-- 导航栏点击加号的弹出菜单 -->
		...
		
	</view>
</template>

<script>
	...
	export default {
		...
		props:{
			...
			// 导航栏动态class
			navbarClass:{
				type:String,
				default:'bg-light'
			},
		},
		...
	}
</script>

<style>
	...
</style>
``` 